const myGame=(()=>{"use strict";let e=[],t=[];const o=["C","D","H","S"],r=["A","J","Q","K"],n=document.querySelector("#second-button"),s=document.querySelector("#third-button"),l=document.querySelector("#first-button"),c=document.querySelectorAll("span"),d=document.querySelectorAll(".cards-box"),a=(o=2)=>{e=u(),t=[];for(let e=0;e<o;e++)t.push(0);c.forEach(e=>e.innerText=0),d.forEach(e=>e.innerHTML=""),n.disabled=!1,s.disabled=!1},u=()=>{e=[];for(let t=2;t<=10;t++)for(let r of o)e.push(t+r);for(let t of o)for(let o of r)e.push(o+t);return _.shuffle(e)},i=()=>{if(0===e.length)throw"There are no cards in the deck";return e.pop()},h=(e,o)=>(t[o]=t[o]+(e=>{const t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?11:10:1*t})(e),c[o].innerText=t[o],t[o]),b=(e,t)=>{const o=document.createElement("img");o.src=`assets/cards/${e}.png`,o.classList.add("cards"),d[t].append(o)},f=e=>{let o=0;do{const e=i();o=h(e,t.length-1),b(e,t.length-1)}while(o<e&&e<=21);(()=>{const[e,o]=t;setTimeout(()=>{o===e?alert("Nobody wins"):e>21?alert("The computer won, sorry"):o>21?alert("You won!"):alert("The computer won, sorry")},100)})()};return l.addEventListener("click",()=>{a()}),n.addEventListener("click",()=>{const e=i(),t=h(e,0);b(e,0),t>21?(console.warn("You lost!"),n.disabled=!0,s.disabled=!0,f(t)):21===t&&(console.warn("You won!"),n.disabled=!0,s.disabled=!0,f(t))}),s.addEventListener("click",()=>{n.disabled=!0,s.disabled=!0,f(t[0])}),{newGame:a}})();